<ion-header>

  <ion-navbar>
    <ion-title>Scan Result</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list>
    <ion-list-header>
      Last Submission
    </ion-list-header>
    <ion-refresher (ionRefresh)="getAttendance($event)">
      <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles" refreshingText="Refreshing...">
      </ion-refresher-content>
    </ion-refresher>
    <ion-item class="general">
      <h2>Group Name</h2>
      <p> {{ lastAttendance.group }} </p>
    </ion-item>
    <ion-item class="general">
      <h2>Participant Name</h2>
      <p> {{ lastAttendance.name }} </p>
    </ion-item>
    <ion-item class="general">
      <h2>NRIC/Passport No.</h2>
      <p> {{ scannedText }} </p>
    </ion-item>
    <ion-item class="location">
      <h2>Last Event/Game</h2>
      <p> {{ lastAttendance.location }} </p>
    </ion-item>
    <ion-item class="start">
      <h2>Start Time</h2>
      <p> {{ lastAttendance.start_date }} </p>
    </ion-item>
    <ion-item class="end" *ngIf="status == 'game'">
      <h2>End Time</h2>
      <p> {{ lastAttendance.end_date }} </p>
    </ion-item>
  </ion-list>
  <ion-list>
    <ion-list-header>
      Current Activity
    </ion-list-header>
    <ion-item class="location">
      <h2>Event/Game</h2>
      <p> {{ location }} </p>
    </ion-item>
  </ion-list>

  <button ion-button full large color="secondary" (click)="submitBarcode(1)" *ngIf="displayStartButton && status == 'event'">{{ eventText }}</button>
  <button ion-button full large color="secondary" (click)="submitBarcode(1)" *ngIf="displayStartButton && status == 'game'">{{ startText }}</button>
  <button ion-button full large color="danger" (click)="submitBarcode(2)" *ngIf="displayEndButton && status == 'game'">{{ endText }}</button>
</ion-content>